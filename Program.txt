using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Support.UI;


namespace Website_Test_Automation
{
    class Program
    {
        static void Main(string[] args)
        {
            ChromeDriver driver = new ChromeDriver();
            driver.Navigate().GoToUrl("http://the-internet.herokuapp.com/");
            Console.Clear();
            Console.WriteLine("****************************Test Case 1****************************\n");
            //Console.WriteLine("Form Authentication : \n");
            Console.WriteLine("Checking with Correct Username and Wrong Password............");
            driver.FindElementByCssSelector("li a[href=\"/login\"]").Click();   //click on Form Authentication
            driver.FindElementByCssSelector("input[id=\"username\"]").SendKeys("tomsmith"); //sending username
            driver.FindElementByCssSelector("input[id=\"password\"]").SendKeys("SuperSecretPassword");  //sending password
            driver.FindElementByCssSelector("button[class=\"radius\"]").Click();    //login button
            string result = driver.FindElementByCssSelector("div[id=\"flash\"]").Text;  //extracting text of error message
            Console.WriteLine("\nResult : " + result);  //displaying result
            Console.WriteLine("\nChecking with Wrong Username and Correct Password............");
            driver.FindElementByCssSelector("input[id=\"username\"]").SendKeys("tomsmit");
            driver.FindElementByCssSelector("input[id=\"password\"]").SendKeys("SuperSecretPassword!");
            driver.FindElementByCssSelector("button[class=\"radius\"]").Click();
            result = driver.FindElementByCssSelector("div[id=\"flash\"]").Text;
            Console.WriteLine("\nResult : " + result);
            Console.WriteLine("\nChecking with Correct Username and Correct Password............");
            driver.FindElementByCssSelector("input[id=\"username\"]").SendKeys("tomsmith");
            driver.FindElementByCssSelector("input[id=\"password\"]").SendKeys("SuperSecretPassword!");
            driver.FindElementByCssSelector("button[class=\"radius\"]").Click();    //login button
            Console.WriteLine(driver.FindElementById("flash-messages").Text);

            Console.WriteLine("\nLogging Out..............\n");
            driver.FindElementByCssSelector("a[class=\"button secondary radius\"]").Click();
            Console.WriteLine(driver.FindElementById("flash").Text);

            Console.WriteLine("\n\n****************************Test Case 2****************************\n\n");
            driver.Navigate().GoToUrl("http://the-internet.herokuapp.com/");
            driver.FindElementByCssSelector("li a[href=\"/infinite_scroll\"]").Click();   //click on Infinite Scroll
            IJavaScriptExecutor js = (IJavaScriptExecutor)driver;
            js.ExecuteScript("window.scrollTo(0,document.body.scrollHeight)");
            Thread.Sleep(1000);
            js.ExecuteScript("window.scrollTo(0,document.body.scrollHeight)");
            Thread.Sleep(500); 
            js.ExecuteScript("window.scrollTo(0,0)");
            string scrollText = driver.FindElementByCssSelector("div[class=\"example\"] h3").Text;
            Console.WriteLine(scrollText);

            Console.WriteLine("\n\n****************************Test Case 3****************************\n\n");
            driver.Navigate().GoToUrl("http://the-internet.herokuapp.com/");
            driver.FindElementByCssSelector("li a[href=\"/key_presses\"]").Click();   //click on Infinite Scroll
            driver.FindElementById("target").SendKeys(Keys.Shift);
            Console.WriteLine(driver.FindElementById("result").Text);
            driver.FindElementById("target").SendKeys(Keys.ArrowDown);
            Console.WriteLine(driver.FindElementById("result").Text);
            driver.FindElementById("target").SendKeys(Keys.Control);
            Console.WriteLine(driver.FindElementById("result").Text);
            driver.FindElementById("target").SendKeys(Keys.Delete);
            Console.WriteLine(driver.FindElementById("result").Text);
            driver.Quit();
            Console.WriteLine("\nPress any key to continue");
            Console.ReadKey();
        }
    }
}
